## 基础知识
    
    elasticsearch 是一个高度可扩展的开源全文搜索和分析引擎。它允许您快速，近实时地存储，搜索和分析大量数据。它通常用作支持具有复杂搜索功能和需求的应用程序的底层引擎/技术
    
    
### 近实时(NRT)
     elasticsearch是一个接近实时的搜索平台。这意味着从索引文档的时间到可搜索的时间之间存在轻微的延迟(通常为一秒).
     
### 集群 
    集群是一个或多个节点(服务器)的集合，它们一起保存整个数据并提供跨所有节点的联合索引和搜索功能。集群由默认名称为"elasticsearch" 的唯一标识。此名称很重要，因为如果节点设置为通过名称加入集群，则节点只能成为集群的一部分。
    
### 节点 
    节点是属于集群一部分的单个服务器，存储数据并参与集群的索引和搜索功能，就像一个集群一样，一个节点由一个名称来标识，默认情况下该名称是在启动时分配给节点的随机通用唯一标识符(UUID)，如果您不需要默认值，您可以定义任何您想要的节点名称，此名称对于管理目的非常重要，您需要确定网络中哪些服务器与elasticsearch 集群中的哪些节点相对应。 
    可以将节点配置为按集群名称加入特定集群。默认情况下，每个节点都设置为加入一个名为集群elasticsearch, 这意味着如果启动网络中的多个节点并假设它们可以互相发现，它们将自动形成并加入一个名为elasticsearch。
    
             
### 索引 
    
    索引是一些具有相似特征的文档集合。例如，您可以拥有客户数据的索引，产品目录的另一个索引以及订单数据的另一个索引。索引由名称(必须全部为小写)标识，并且此名称用于在对其中的文档执行索引，搜索，更新和删除操作时引用索引。 
    
### 文档 
    
    文档是可被索引的基础信息单位。例如，你可以为单个客户提供文档，为单个产品提供另一个文档，为单个订单提供另一个文档。本文档以json 表示，它是无处不在的互联网数据交换格式。
    在索引/类型中，您可以根据需要存储任意数量的文档。请注意，尽管文档实际上驻留在索引中，但实际被索引/ 分配给索引内的类型。 
 
### 分片&&副本   
    
     索引可能潜在地存储大量数据，这些数据可能会超出单个节点的硬件限制。例如，占用1TB磁盘空间的十亿份文档的单个索引可能不适合单个节点的磁盘，或者可能太慢而无法单独向节点提供搜索请求。
     
     为了解决这个问题，elasticsearch 提供了将索引细分为多个碎片的功能。当您创建索引时，您可以简单地定义所需的碎片数量。每个分片本身都是一个功能齐全独立的"索引"，可以在集群中任何节点上进行托管。  
    分片很重要,主要有两个原因: 
       它允许您水平分割/缩放内容量
       它允许您跨越分片(可能在多个节点)分发和并行化操作，从而提高性能/吞吐量 
    分片如何分布的机制以及其文档如何聚合回搜索请求完全由elasticsearch管理，并且作为用户对您透明。 
    在 任何时候都可能出现故障的网络/云环境中，非常有用并且强烈建议拥有故障切换机制，以防碎片/节点以某种方式脱机或因任何原因而消失.为此，elasticsearch 允许您将索引碎片的一个或多个副本制作为简称副本碎片或副本。
    
     复制很重要,主要有两个原因:         
        它在碎片/节点失败的情况下提供高可用性.由于这个原因,需要注意的是，副本分片永远不会分配到与从中复制的原始/主分片相同的节点上。
        它允许您扩展搜索量/吞吐量,因为搜索可以在所有副本上并行执行。
        每个索引可以分成多个分片.索引也可以被复制为零(意味着没有副本)或更多次。一旦复制，每个索引将具有主分片和副本分片，在创建索引时，可以为每个索引定义分片和副本数量。可以随时更改动态副本的数量，但是无法在事后更改碎片的数量。
        默认情况下,elasticsearch 中的每个索引都分配了5个主分片和1个副本，这意味着如果集群中至少有两个节点，则索引将包含5个主分片和另外5个副本分片(1个完整副本),总共每个索引10个碎片
        
        
        
        
        
        
     
           
        
        
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
        
        
    